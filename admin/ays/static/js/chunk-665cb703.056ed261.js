(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-665cb703"],{"57fc":function(e,t,s){"use strict";var l=s("d4df"),a=s.n(l);a.a},c466:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));s("28a5"),s("3b2b"),s("a481");function l(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var s={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var l in s)if(new RegExp("(".concat(l,")")).test(t)){var r=s[l]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?r:a(r))}return t}function a(e){return("00"+e).substr(e.length)}},d4df:function(e,t,s){},f2cf:function(e,t,s){"use strict";s.r(t);var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"detail-container"},[s("div",[s("el-steps",{attrs:{active:e.order.status,"finish-status":"success","align-center":""}},[s("el-step",{attrs:{title:"提交订单",description:e.order.create_time}}),e._v(" "),s("el-step",{attrs:{title:"订单支付",description:e.formatTime(e.order.paymentTime)}}),e._v(" "),s("el-step",{attrs:{title:"平台发货",description:e.formatTime(e.order.deliveryTime)}}),e._v(" "),s("el-step",{attrs:{title:"确认收货",description:e.formatTime(e.order.receiveTime)}}),e._v(" "),s("el-step",{attrs:{title:"完成评价",description:e.formatTime(e.order.commentTime)}})],1)],1),e._v(" "),s("el-card",{staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[s("div",{staticClass:"operate-container"},[s("i",{staticClass:"el-icon-warning color-danger",staticStyle:{"margin-left":"20px"}}),e._v(" "),s("span",{staticClass:"color-danger"},[e._v("当前订单状态："+e._s(e._f("formatStatus")(e.order.status)))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.order.status,expression:"order.status===0"}],staticClass:"operate-button-container"},[s("el-button",{attrs:{size:"mini"},on:{click:e.showUpdateReceiverDialog}},[e._v("修改收货人信息")]),e._v(" "),s("el-button",{attrs:{size:"mini"}},[e._v("修改商品信息")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:e.showUpdateMoneyDialog}},[e._v("修改费用信息")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:e.showMessageDialog}},[e._v("发送站内信")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:e.showCloseOrderDialog}},[e._v("关闭订单")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:e.showMarkOrderDialog}},[e._v("备注订单")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.order.status,expression:"order.status===1"}],staticClass:"operate-button-container"},[s("el-button",{attrs:{size:"mini"},on:{click:e.showUpdateReceiverDialog}},[e._v("修改收货人信息")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:e.showMessageDialog}},[e._v("发送站内信")]),e._v(" "),s("el-button",{attrs:{size:"mini"}},[e._v("取消订单")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:e.showMarkOrderDialog}},[e._v("备注订单")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2===e.order.status||3===e.order.status,expression:"order.status===2||order.status===3"}],staticClass:"operate-button-container"},[s("el-button",{attrs:{size:"mini"},on:{click:e.showLogisticsDialog}},[e._v("订单跟踪")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:e.showMessageDialog}},[e._v("发送站内信")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:e.showMarkOrderDialog}},[e._v("备注订单")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:4===e.order.status,expression:"order.status===4"}],staticClass:"operate-button-container"},[s("el-button",{attrs:{size:"mini"},on:{click:e.handleDeleteOrder}},[e._v("删除订单")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:e.showMarkOrderDialog}},[e._v("备注订单")])],1)]),e._v(" "),s("div",{staticStyle:{"margin-top":"20px"}},[s("svg-icon",{staticStyle:{color:"#606266"},attrs:{"icon-class":"marker"}}),e._v(" "),s("span",{staticClass:"font-small"},[e._v("基本信息")])],1),e._v(" "),s("div",{staticClass:"table-layout"},[s("el-row",[s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("订单微信编号")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("平台单流水号")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("用户账号")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("支付方式")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("订单来源")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("订单类型")])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e.order.out_trade_no))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e.order.order_no))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e.order.memberUsername))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e._f("formatPayType")(e.order.payType)))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e._f("formatSourceType")(e.order.sourceType)))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e._f("formatOrderType")(e.order.orderType)))])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("配送方式")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("物流单号")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("自动收货时间")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("预计经理佣金")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("预计店长佣金")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("活动信息")])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e._f("formatNull")(e.order.deliveryCompany)))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e._f("formatNull")(e.order.deliverySn)))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e.order.autoConfirmDay)+"天")]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e.order.head_price))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e.order.manager_price))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:4}},[s("el-popover",{attrs:{placement:"top-start",title:"活动信息",width:"200",trigger:"hover",content:e.order.promotionInfo}},[s("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e._f("formatLongText")(e.order.promotionInfo)))])])],1)],1)],1),e._v(" "),s("div",{staticStyle:{"margin-top":"20px"}},[s("svg-icon",{staticStyle:{color:"#606266"},attrs:{"icon-class":"marker"}}),e._v(" "),s("span",{staticClass:"font-small"},[e._v("收货人信息")])],1),e._v(" "),s("div",{staticClass:"table-layout"},[s("el-row",[s("el-col",{staticClass:"table-cell-title",attrs:{span:8}},[e._v("收货人")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:8}},[e._v("手机号码")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:8}},[e._v("收货地址")])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"table-cell",attrs:{span:8}},[e._v(e._s(e.order.buyerName))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:8}},[e._v(e._s(e.order.mobile))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:8}},[e._v(e._s(e.order.addressText))])],1)],1),e._v(" "),s("div",{staticStyle:{"margin-top":"20px"}},[s("svg-icon",{staticStyle:{color:"#606266"},attrs:{"icon-class":"marker"}}),e._v(" "),s("span",{staticClass:"font-small"},[e._v("商品信息")])],1),e._v(" "),s("el-table",{ref:"orderItemTable",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.order.goods,border:""}},[s("el-table-column",{attrs:{label:"商品图片",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("img",{staticStyle:{height:"80px"},attrs:{src:e.row.images_url}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("p",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"价格/货号",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("p",[e._v("价格：￥"+e._s(t.row.price))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"数量",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.totalBuyNum)+"\n        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"小计",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          ￥"+e._s(t.row.price*t.row.totalBuyNum)+"\n        ")]}}])})],1),e._v(" "),s("div",{staticStyle:{float:"right",margin:"20px"}},[e._v("\n      合计："),s("span",{staticClass:"color-danger"},[e._v("￥"+e._s(e.order.totalPrice))])]),e._v(" "),s("div",{staticStyle:{"margin-top":"60px"}},[s("svg-icon",{staticStyle:{color:"#606266"},attrs:{"icon-class":"marker"}}),e._v(" "),s("span",{staticClass:"font-small"},[e._v("费用信息")])],1),e._v(" "),s("div",{staticClass:"table-layout"},[s("el-row",[s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("商品合计")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("运费")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("优惠券")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("积分抵扣")])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("￥"+e._s(e.order.totalPrice))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("￥"+e._s(e.order.freightAmount))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.order.couponAmount))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.order.integrationAmount))])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("活动优惠")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("折扣金额")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("订单总金额")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("应付款金额")])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.order.promotionAmount))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.order.discountAmount))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[s("span",{staticClass:"color-danger"},[e._v("￥"+e._s(e.order.totalPrice))])]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[s("span",{staticClass:"color-danger"},[e._v("￥"+e._s(e.order.totalPrice))])])],1)],1),e._v(" "),s("div",{staticStyle:{"margin-top":"20px"}},[s("svg-icon",{staticStyle:{color:"#606266"},attrs:{"icon-class":"marker"}}),e._v(" "),s("span",{staticClass:"font-small"},[e._v("操作信息")])],1),e._v(" "),s("el-table",{ref:"orderHistoryTable",staticStyle:{"margin-top":"20px",width:"100%"},attrs:{data:e.order.historyList,border:""}},[s("el-table-column",{attrs:{label:"操作者",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.operateMan)+"\n        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作时间",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.formatTime(t.row.createTime))+"\n        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"订单状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatStatus")(t.row.orderStatus))+"\n        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"付款状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatPayStatus")(t.row.orderStatus))+"\n        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"发货状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatDeliverStatus")(t.row.orderStatus))+"\n        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.note)+"\n        ")]}}])})],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"修改收货人信息",visible:e.receiverDialogVisible,width:"40%"},on:{"update:visible":function(t){e.receiverDialogVisible=t}}},[s("el-form",{ref:"receiverInfoForm",attrs:{model:e.receiverInfo,"label-width":"150px"}},[s("el-form-item",{attrs:{label:"收货人姓名："}},[s("el-input",{staticStyle:{width:"200px"},model:{value:e.receiverInfo.receiverName,callback:function(t){e.$set(e.receiverInfo,"receiverName",t)},expression:"receiverInfo.receiverName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号码："}},[s("el-input",{staticStyle:{width:"200px"},model:{value:e.receiverInfo.receiverPhone,callback:function(t){e.$set(e.receiverInfo,"receiverPhone",t)},expression:"receiverInfo.receiverPhone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮政编码："}},[s("el-input",{staticStyle:{width:"200px"},model:{value:e.receiverInfo.receiverPostCode,callback:function(t){e.$set(e.receiverInfo,"receiverPostCode",t)},expression:"receiverInfo.receiverPostCode"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"所在区域："}},[s("v-distpicker",{attrs:{province:e.receiverInfo.receiverProvince,city:e.receiverInfo.receiverCity,area:e.receiverInfo.receiverRegion},on:{selected:e.onSelectRegion}})],1),e._v(" "),s("el-form-item",{attrs:{label:"详细地址："}},[s("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.receiverInfo.receiverDetailAddress,callback:function(t){e.$set(e.receiverInfo,"receiverDetailAddress",t)},expression:"receiverInfo.receiverDetailAddress"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.receiverDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateReceiverInfo}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"修改费用信息",visible:e.moneyDialogVisible,width:"40%"},on:{"update:visible":function(t){e.moneyDialogVisible=t}}},[s("div",{staticClass:"table-layout"},[s("el-row",[s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("商品合计")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("运费")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("优惠券")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("积分抵扣")])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("￥"+e._s(e.order.totalAmount))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[s("el-input",{attrs:{size:"mini"},model:{value:e.moneyInfo.freightAmount,callback:function(t){e.$set(e.moneyInfo,"freightAmount",e._n(t))},expression:"moneyInfo.freightAmount"}},[s("template",{slot:"prepend"},[e._v("￥")])],2)],1),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.order.couponAmount))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.order.integrationAmount))])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("活动优惠")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("折扣金额")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("订单总金额")]),e._v(" "),s("el-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("应付款金额")])],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.order.promotionAmount))]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[s("el-input",{attrs:{size:"mini"},model:{value:e.moneyInfo.discountAmount,callback:function(t){e.$set(e.moneyInfo,"discountAmount",e._n(t))},expression:"moneyInfo.discountAmount"}},[s("template",{slot:"prepend"},[e._v("-￥")])],2)],1),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[s("span",{staticClass:"color-danger"},[e._v("￥"+e._s(e.order.totalAmount+e.moneyInfo.freightAmount))])]),e._v(" "),s("el-col",{staticClass:"table-cell",attrs:{span:6}},[s("span",{staticClass:"color-danger"},[e._v("￥"+e._s(e.order.payAmount+e.moneyInfo.freightAmount-e.moneyInfo.discountAmount))])])],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.moneyDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateMoneyInfo}},[e._v("确 定")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"发送站内信",visible:e.messageDialogVisible,width:"40%"},on:{"update:visible":function(t){e.messageDialogVisible=t}}},[s("el-form",{ref:"receiverInfoForm",attrs:{model:e.message,"label-width":"150px"}},[s("el-form-item",{attrs:{label:"标题："}},[s("el-input",{staticStyle:{width:"200px"},model:{value:e.message.title,callback:function(t){e.$set(e.message,"title",t)},expression:"message.title"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"内容："}},[s("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.message.content,callback:function(t){e.$set(e.message,"content",t)},expression:"message.content"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.messageDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.handleSendMessage}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"关闭订单",visible:e.closeDialogVisible,width:"40%"},on:{"update:visible":function(t){e.closeDialogVisible=t}}},[s("el-form",{attrs:{model:e.closeInfo,"label-width":"150px"}},[s("el-form-item",{attrs:{label:"操作备注："}},[s("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.closeInfo.note,callback:function(t){e.$set(e.closeInfo,"note",t)},expression:"closeInfo.note"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.closeDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.handleCloseOrder}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"备注订单",visible:e.markOrderDialogVisible,width:"40%"},on:{"update:visible":function(t){e.markOrderDialogVisible=t}}},[s("el-form",{attrs:{model:e.markInfo,"label-width":"150px"}},[s("el-form-item",{attrs:{label:"操作备注："}},[s("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.markInfo.note,callback:function(t){e.$set(e.markInfo,"note",t)},expression:"markInfo.note"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.markOrderDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.handleMarkOrder}},[e._v("确 定")])],1)],1),e._v(" "),s("logistics-dialog",{model:{value:e.logisticsDialogVisible,callback:function(t){e.logisticsDialogVisible=t},expression:"logisticsDialogVisible"}})],1)},a=[],r=s("f8b7"),o=(s("c466"),s("ed08")),i={orderId:null,receiverName:null,receiverPhone:null,receiverPostCode:null,receiverDetailAddress:null,receiverProvince:null,receiverCity:null,receiverRegion:null,status:null},n={name:"orderDetail",components:{},data:function(){return{id:null,order:{},receiverDialogVisible:!1,receiverInfo:Object.assign({},i),moneyDialogVisible:!1,moneyInfo:{orderId:null,freightAmount:0,discountAmount:0,status:null},messageDialogVisible:!1,message:{title:null,content:null},closeDialogVisible:!1,closeInfo:{note:null,id:null},markOrderDialogVisible:!1,markInfo:{note:null},logisticsDialogVisible:!1}},created:function(){var e=this;this.id=this.list=this.$route.query.id,Object(r["b"])(this.id).then((function(t){e.order=t.data}))},filters:{formatNull:function(e){return void 0===e||null===e||""===e?"暂无":e},formatLongText:function(e){return void 0===e||null===e||""===e?"暂无":e.length>8?e.substr(0,8)+"...":e},formatPayType:function(e){return 1===e?"支付宝":"微信"},formatSourceType:function(e){return 1===e?"APP订单":"小程序订单"},formatOrderType:function(e){return 1===e?"秒杀订单":"正常订单"},formatAddress:function(e){var t=e.receiverProvince;return null!=e.receiverCity&&(t+="  "+e.receiverCity),t+="  "+e.receiverRegion,t+="  "+e.receiverDetailAddress,t},formatStatus:function(e){return 1===e?"待付款":2===e?"待发货":3===e?"已发货":4===e?"已签收":5===e?"已评价":6===e?"已完成":void 0},formatPayStatus:function(e){return 0===e?"未支付":4===e?"已退款":"已支付"},formatDeliverStatus:function(e){return 0===e||1===e?"未发货":"已发货"},formatProductAttr:function(e){if(null==e)return"";for(var t=JSON.parse(e),s="",l=0;l<t.length;l++)s+=t[l].key,s+=":",s+=t[l].value,s+=";";return s}},methods:{onSelectRegion:function(e){this.receiverInfo.receiverProvince=e.province.value,this.receiverInfo.receiverCity=e.city.value,this.receiverInfo.receiverRegion=e.area.value},formatTime:function(e){return Object(o["g"])(e,"{y}-{m}-{d} {h}:{i}")},formatStepStatus:function(e){return 1===e?2:2===e?3:3===e?4:1},showUpdateReceiverDialog:function(){this.receiverDialogVisible=!0,this.receiverInfo={orderId:this.order.id,receiverName:this.order.receiverName,receiverPhone:this.order.receiverPhone,receiverPostCode:this.order.receiverPostCode,receiverDetailAddress:this.order.receiverDetailAddress,receiverProvince:this.order.receiverProvince,receiverCity:this.order.receiverCity,receiverRegion:this.order.receiverRegion,status:this.order.status}},handleUpdateReceiverInfo:function(){var e=this;this.$confirm("是否要修改收货信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["updateReceiverInfo"])(e.receiverInfo).then((function(t){e.receiverDialogVisible=!1,e.$message({type:"success",message:"修改成功!"}),getOrderDetail(e.id).then((function(t){e.order=t.data}))}))}))},showUpdateMoneyDialog:function(){this.moneyDialogVisible=!0,this.moneyInfo.orderId=this.order.id,this.moneyInfo.freightAmount=this.order.freightAmount,this.moneyInfo.discountAmount=this.order.discountAmount,this.moneyInfo.status=this.order.status},handleUpdateMoneyInfo:function(){var e=this;this.$confirm("是否要修改费用信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["updateMoneyInfo"])(e.moneyInfo).then((function(t){e.moneyDialogVisible=!1,e.$message({type:"success",message:"修改成功!"}),getOrderDetail(e.id).then((function(t){e.order=t.data}))}))}))},showMessageDialog:function(){this.messageDialogVisible=!0,this.message.title=null,this.message.content=null},handleSendMessage:function(){var e=this;this.$confirm("是否要发送站内信?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.messageDialogVisible=!1,e.$message({type:"success",message:"发送成功!"})}))},showCloseOrderDialog:function(){this.closeDialogVisible=!0,this.closeInfo.note=null,this.closeInfo.id=this.id},handleCloseOrder:function(){var e=this;this.$confirm("是否要关闭?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=new URLSearchParams;t.append("ids",[e.closeInfo.id]),t.append("note",e.closeInfo.note),Object(r["closeOrder"])(t).then((function(t){e.closeDialogVisible=!1,e.$message({type:"success",message:"订单关闭成功!"}),getOrderDetail(e.id).then((function(t){e.order=t.data}))}))}))},showMarkOrderDialog:function(){this.markOrderDialogVisible=!0,this.markInfo.id=this.id,this.closeOrder.note=null},handleMarkOrder:function(){var e=this;this.$confirm("是否要备注订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=new URLSearchParams;t.append("id",e.markInfo.id),t.append("note",e.markInfo.note),t.append("status",e.order.status),Object(r["updateOrderNote"])(t).then((function(t){e.markOrderDialogVisible=!1,e.$message({type:"success",message:"订单备注成功!"}),getOrderDetail(e.id).then((function(t){e.order=t.data}))}))}))},handleDeleteOrder:function(){var e=this;this.$confirm("是否要进行该删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=new URLSearchParams;t.append("ids",[e.id]),Object(r["deleteOrder"])(t).then((function(t){e.$message({message:"删除成功！",type:"success",duration:1e3}),e.$router.back()}))}))},showLogisticsDialog:function(){this.logisticsDialogVisible=!0}}},c=n,v=(s("57fc"),s("2877")),u=Object(v["a"])(c,l,a,!1,null,"62e7c349",null);t["default"]=u.exports},f8b7:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return r})),s.d(t,"e",(function(){return o}));var l=s("b775");function a(e){return Object(l["a"])({url:"/admin/Order/GetDataByList",method:"get",params:e})}function r(e){return Object(l["a"])({url:"/admin/Order/GetIdByDetails",method:"get",params:{id:e}})}function o(e){return Object(l["a"])({url:"/admin/Order/deliveryOrder",method:"post",data:e})}}}]);