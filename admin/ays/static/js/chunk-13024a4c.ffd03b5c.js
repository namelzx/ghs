(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13024a4c"],{"19ae":function(t,e,n){},2519:function(t,e,n){"use strict";var i=n("7a85"),a=n.n(i);a.a},6724:function(t,e,n){"use strict";n("8d41");var i="@@wavesContext";function a(t,e){function n(n){var i=Object.assign({},e.value),a=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),s=a.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var r=s.getBoundingClientRect(),l=s.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(r.width,r.height)+"px",s.appendChild(l)),a.type){case"center":l.style.top=r.height/2-l.offsetHeight/2+"px",l.style.left=r.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(n.pageY-r.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(n.pageX-r.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=a.color,l.className="waves-ripple z-active",!1}}return t[i]?t[i].removeHandle=n:t[i]={removeHandle:n},n}var s={bind:function(t,e){t.addEventListener("click",a(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[i].removeHandle,!1),t.addEventListener("click",a(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[i].removeHandle,!1),t[i]=null,delete t[i]}},r=function(t){t.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(r)),s.install=r;e["a"]=s},7732:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[n("div",[n("i",{staticClass:"el-icon-search"}),t._v(" "),n("span",[t._v("筛选搜索")]),t._v(" "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleFilter()}}},[t._v("\n        查询搜索\n      ")]),t._v(" "),n("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:function(e){return t.handleResetSearch()}}},[t._v("\n        重置\n      ")])],1),t._v(" "),n("div",{staticClass:"search",staticStyle:{"margin-top":"15px"}},[n("el-form",{attrs:{inline:!0,model:t.listQuery,size:"small","label-width":"80px"}},[n("el-form-item",{attrs:{label:"输入搜索："}},[n("el-input",{staticClass:"input-width",attrs:{size:"mini",placeholder:"订单编号"},model:{value:t.listQuery.out_trade_no,callback:function(e){t.$set(t.listQuery,"out_trade_no",e)},expression:"listQuery.out_trade_no"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"选择小区："}},[n("el-select",{attrs:{size:"mini",clearable:"",placeholder:"选择所属小区"},model:{value:t.listQuery.community_id,callback:function(e){t.$set(t.listQuery,"community_id",e)},expression:"listQuery.community_id"}},t._l(t.community,(function(t,e){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"商品分类："}},[n("el-select",{attrs:{clearable:"",size:"mini",placeholder:"选择商品分类"},model:{value:t.listQuery.category_id,callback:function(e){t.$set(t.listQuery,"category_id",e)},expression:"listQuery.category_id"}},t._l(t.category,(function(t,e){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1)]),t._v(" "),n("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[n("i",{staticClass:"el-icon-tickets"}),t._v(" "),n("span",[t._v("商家商品列表")])]),t._v(" "),n("div",{staticClass:"table-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{label:"ID",align:"center",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.id))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"商品名称",align:"center","min-width":"220px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"封面图",align:"center","min-width":"120px"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticClass:"headimgurl",attrs:{src:t.row.images_url}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"库存",align:"center","min-width":"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.inventory)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"成本价",align:"center","min-width":"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.cost_price)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"市场价",align:"center","min-width":"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.line_price)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"销售价",align:"center","min-width":"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.price)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"销量",align:"center","min-width":"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.sales)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"设为爆款",width:"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{class:{"el-icon-success text-green":1==e.row.faddish,"el-icon-error text-red":2==e.row.faddish},on:{click:function(n){return t.handleModifyFaddish(e.$index,e.row.id,e.row.faddish)}}},[t._v("\n          "+t._s(t._f("statusFilter")(e.row.faddish)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"是否允许自提",width:"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{class:{"el-icon-success text-green":1==e.row.is_store,"el-icon-error text-red":2==e.row.is_store},on:{click:function(n){return t.handleModifyis_store(e.$index,e.row.id,e.row.is_store)}}},[t._v("\n          "+t._s(t._f("statusFilter")(e.row.is_store)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"状态",width:"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{class:{"el-icon-success text-green":1==e.row.status,"el-icon-error text-red":2==e.row.status},on:{click:function(n){return t.handleModifyStatus(e.$index,e.row.id,e.row.status)}}},[t._v("\n          "+t._s(t._f("statusFilter")(e.row.status)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"是否轮播推荐",width:"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{class:{"el-icon-success text-green":1==e.row.is_banner,"el-icon-error text-red":2==e.row.is_banner},on:{click:function(n){return t.handleModifyBannder(e.$index,e.row.id,e.row.is_banner)}}},[t._v("\n          "+t._s(t._f("statusFilter")(e.row.is_banner)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"120px","class-name":"small-padding"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[n("router-link",{attrs:{to:"/goods/edit/"+e.row.id}},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"text",size:"mini"}},[t._v(" 编辑\n              ")])],1)],1),t._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{loading:e.row.delete,type:"text",size:"mini"},on:{click:function(n){return t.handleDelete(e.$index,e.row.id)}}},[t._v(" 删除\n          ")])]}}])})],1)],1),t._v(" "),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","current-page":t.listQuery.page,"page-size":t.listQuery.limit,"page-sizes":[5,10,15],total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},a=[],s=(n("ac6a"),n("c40e")),r=n("6724"),l=n("ed08"),o=n("7998"),c=n("c405"),u={name:"Roles",components:{},directives:{waves:r["a"]},filters:{statusFilter:function(t){var e={2:"下架",1:"上架"};return e[t]}},data:function(){return{tableKey:0,list:null,total:null,selectedRows:null,listLoading:!0,showSearch:!1,listQuery:{page:1,limit:10,title:"",type:1},category:[],community:[],buttonDisabled:!0,deleting:!1,pickerOptions:l["h"],currentIndex:-1}},watch:{},created:function(){var t=this;Object(o["b"])().then((function(e){t.community=e.data})),Object(c["a"])().then((function(e){t.category=e.data})),this.fetchList()},methods:{fetchList:function(){var t=this;this.listLoading=!0,Object(s["a"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total,t.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.fetchList()},handleFilterClear:function(){this.listQuery={page:1,limit:10,title:""},this.fetchList()},handleSizeChange:function(t){this.listQuery.psize=t,this.fetchList()},handleCurrentChange:function(t){this.listQuery.page=t,this.fetchList()},handleModifyStatus:function(t,e,n){this.list[t]["status"]=2===n?1:2,Object(s["f"])(e,"status",this.list[t]["status"]).then((function(t){}))},handleModifyBannder:function(t,e,n){this.list[t]["is_banner"]=2===n?1:2,Object(s["f"])(e,"is_banner",this.list[t]["is_banner"]).then((function(t){}))},handleModifyis_store:function(t,e,n){this.list[t]["is_store"]=2===n?1:2,Object(s["f"])(e,"is_store",this.list[t]["is_store"]).then((function(t){}))},handleModifyFaddish:function(t,e,n){this.list[t]["faddish"]=2===n?1:2,Object(s["f"])(e,"faddish",this.list[t]["faddish"]).then((function(t){}))},handleSelectionChange:function(t){t.length>0?this.buttonDisabled=!1:this.buttonDisabled=!0,this.selectedRows=t},handleCreate:function(){this.$refs.fromRoles.handleCreate()},handleUpdate:function(t,e){this.currentIndex=t,this.$refs.fromRoles.handleUpdate(e)},updateRow:function(t){this.currentIndex>=0&&t.id>0?this.list.splice(this.currentIndex,1,t):(this.list.length>=10&&this.list.pop(),this.list.push(t),this.total=this.total+1),this.currentIndex=-1},handleDelete:function(t,e){var n=this,i=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.$set(i.list[t],"delete",!0),Object(s["i"])(e).then((function(e){1===e.status?(i.list.splice(t,1),i.total=i.total-1,i.$notify.success(e.msg)):i.$notify.error(e.msg),i.$set(i.list[t],"delete",!1)})).catch((function(e){i.$set(i.list[t],"delete",!1)}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))},handleDeleteAll:function(){var t=this,e=this;this.selectedRows.length>0?this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleting=!0;var t=Object(l["c"])(e.selectedRows,"id"),n=t.join(",");Object(s["j"])({ids:n}).then((function(n){if(1===n.status){var i=[];e.list.forEach((function(e,n,a){t.indexOf(e.id)>-1&&i.push(n)}));for(var a=i.length-1;a>=0;a--)e.list.splice(i[a],1);e.total=e.total-i.length,e.$message.success(n.msg)}else e.$message.error(n.msg);e.deleting=!1})).catch((function(t){e.deleting=!1}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})})):e.$message.error("请选择要删除的数据")},handleCommand:function(t){var e=this;if(this.selectedRows.length>0){var n=Object(l["c"])(this.selectedRows,"id"),i=n.join(",");Object(s["g"])({val:i,field:"status",value:t}).then((function(i){1===i.status?(e.list.forEach((function(i,a,s){n.indexOf(i.id)>-1&&(e.list[a]["status"]=t)})),e.$message.success(i.msg)):e.$message.error(i.msg)})).catch((function(t){}))}else e.$message.error("请选择要操作的数据")},handleBanner:function(t){var e=this;if(this.selectedRows.length>0){var n=Object(l["c"])(this.selectedRows,"id"),i=n.join(",");Object(s["g"])({val:i,field:"is_banner",value:t}).then((function(i){1===i.status?(e.list.forEach((function(i,a,s){n.indexOf(i.id)>-1&&(e.list[a]["is_banner"]=t)})),e.$message.success(i.msg)):e.$message.error(i.msg)})).catch((function(t){}))}else e.$message.error("请选择要操作的数据")}}},d=u,f=(n("2519"),n("e3dd"),n("2877")),h=Object(f["a"])(d,i,a,!1,null,"21aa9475",null);e["default"]=h.exports},7998:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return l})),n.d(e,"b",(function(){return o}));var i=n("b775");function a(t){return Object(i["a"])({url:"admin/Community/GetDataByList",method:"get",params:t})}function s(){return Object(i["a"])({url:"admin/city/GetCity",method:"get"})}function r(t){return Object(i["a"])({url:"admin/Community/GetIdByDel",method:"get",params:{id:t}})}function l(t){return Object(i["a"])({url:"admin/Community/PostDataBySave",method:"post",data:t})}function o(){return Object(i["a"])({url:"admin/Community/GetCommunityByall",method:"get"})}},"7a85":function(t,e,n){},"8d41":function(t,e,n){},c405:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return l}));var i=n("b775");function a(t){return Object(i["a"])({url:"api/admin/category/GetDataByList",method:"get",params:t})}function s(){return Object(i["a"])({url:"api/admin/category/GetCategory",method:"get"})}function r(t){return Object(i["a"])({url:"api/admin/category/GetIdByDel",method:"get",params:{id:t}})}function l(t){return Object(i["a"])({url:"api/admin/category/PostDataBySave",method:"post",data:t})}},c40e:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return o})),n.d(e,"j",(function(){return c})),n.d(e,"i",(function(){return u}));var i=n("b775");function a(t){return Object(i["a"])({url:"api/admin/goods/GetDataByList",method:"get",params:t})}function s(t){return Object(i["a"])({url:"api/admin/goods/GetIdByDetails",method:"get",params:{id:t}})}function r(t){return Object(i["a"])({url:"api/admin/goods/PostDataBySave",method:"post",data:t})}function l(t,e,n){var a={val:t,field:e,value:n};return Object(i["a"])({url:"/admin/goods/change",method:"post",data:a})}function o(t){return Object(i["a"])({url:"/admin/goods/changeall",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/admin/goods/delall",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/admin/goods/del",method:"get",params:{id:t}})}},e3dd:function(t,e,n){"use strict";var i=n("19ae"),a=n.n(i);a.a}}]);