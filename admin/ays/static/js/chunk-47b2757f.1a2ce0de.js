(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47b2757f"],{"07b9":function(e,t,i){},"3bce":function(e,t,i){"use strict";var s=i("07b9"),n=i.n(s);n.a},"9bb8":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tags-view-container"},[i("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-wrapper"},e._l(Array.from(e.visitedViews),(function(t){return i("router-link",{key:t.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:e.isActive(t)?"active":"",attrs:{to:t},nativeOn:{contextmenu:function(i){return i.preventDefault(),e.openMenu(t,i)}}},[e._v("\n      "+e._s(e.generateTitle(t.title))+"\n      "),i("span",{staticClass:"el-icon-close",on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.closeSelectedTag(t)}}})])})),1),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top+"px"}},[i("li",{on:{click:function(t){return e.refreshSelectedTag(e.selectedTag)}}},[e._v(e._s(e.$t("tagsView.refresh")))]),e._v(" "),i("li",{on:{click:function(t){return e.closeSelectedTag(e.selectedTag)}}},[e._v(e._s(e.$t("tagsView.close")))]),e._v(" "),i("li",{on:{click:e.closeOthersTags}},[e._v(e._s(e.$t("tagsView.closeOthers")))]),e._v(" "),i("li",{on:{click:e.closeAllTags}},[e._v(e._s(e.$t("tagsView.closeAll")))])])],1)},n=[],a=(i("a481"),i("ac4d"),i("8a81"),i("ac6a"),i("7f7f"),i("a46e")),r=i("79fa"),o={components:{ScrollPane:a["a"]},data:function(){return{visible:!1,top:0,left:0,selectedTag:{}}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews}},watch:{$route:function(){this.addViewTags(),this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.addViewTags()},methods:{generateTitle:r["a"],generateRoute:function(){return!!this.$route.name&&this.$route},isActive:function(e){return e.path===this.$route.path},addViewTags:function(){var e=this.generateRoute();if(!e)return!1;this.$store.dispatch("addView",e)},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var i=!0,s=!1,n=void 0;try{for(var a,r=t[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value;if(o.to.path===e.$route.path){e.$refs.scrollPane.moveToTarget(o.$el),o.to.fullPath!==e.$route.fullPath&&e.$store.dispatch("updateVisitedView",e.$route);break}}}catch(c){s=!0,n=c}finally{try{i||null==r.return||r.return()}finally{if(s)throw n}}}))},refreshSelectedTag:function(e){var t=this;this.$store.dispatch("delCachedView",e).then((function(){var i=e.fullPath;t.$nextTick((function(){t.$router.replace({path:"/redirect"+i})}))}))},closeSelectedTag:function(e){var t=this;this.$store.dispatch("delView",e).then((function(i){var s=i.visitedViews;if(t.isActive(e)){var n=s.slice(-1)[0];n?t.$router.push(n):t.$router.push("/")}}))},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag),this.$store.dispatch("delOthersViews",this.selectedTag).then((function(){e.moveToCurrentTag()}))},closeAllTags:function(){this.$store.dispatch("delAllViews"),this.$router.push("/")},openMenu:function(e,t){this.visible=!0,this.selectedTag=e;var i=this.$el.getBoundingClientRect().left;this.left=t.clientX-i+15,this.top=t.clientY},closeMenu:function(){this.visible=!1}}},c=o,l=(i("3bce"),i("b3b9"),i("2877")),u=Object(l["a"])(c,s,n,!1,null,"1e4c04f3",null);t["default"]=u.exports},b3b9:function(e,t,i){"use strict";var s=i("ba3e"),n=i.n(s);n.a},ba3e:function(e,t,i){}}]);