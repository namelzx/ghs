(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07c57b3e"],{"0644":function(t,e,i){},"11b2":function(t,e,i){},"17d0":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"e",(function(){return l}));var n=i("b775");function s(t){return Object(n["a"])({url:"/admin/Salesman/GetDataByList",method:"post",data:t})}function a(t){return Object(n["a"])({url:"/admin/Salesman/PostDataByAdd",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/admin/Salesman/del",method:"get",params:{id:t}})}},"5f12":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"form filter-container"},[i("el-form",{staticClass:"form-inline",attrs:{inline:!0,model:t.listQuery}},[i("el-form-item",{attrs:{label:"姓名:"}},[i("el-input",{attrs:{size:"mini",clearable:""},model:{value:t.listQuery.realName,callback:function(e){t.$set(t.listQuery,"realName",e)},expression:"listQuery.realName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"手机号:"}},[i("el-input",{attrs:{size:"mini",clearable:""},model:{value:t.listQuery.phone,callback:function(e){t.$set(t.listQuery,"phone",e)},expression:"listQuery.phone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"微信昵称:"}},[i("el-input",{attrs:{size:"mini",clearable:""},model:{value:t.listQuery.nickname,callback:function(e){t.$set(t.listQuery,"nickname",e)},expression:"listQuery.nickname"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleFilter}},[t._v("搜索")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleCreate}},[t._v("新增")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleCreate}},[t._v("更新微信")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleCreate}},[t._v("修改绑定")])],1)],1)],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:"",stripe:""}},[i("el-table-column",{attrs:{label:"姓名","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.realName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"手机号","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row?i("span",[t._v(t._s(e.row.phone))]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"微信昵称","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.wechat?i("span",[t._v(t._s(e.row.wechat.nickname))]):i("span",[t._v("尚未绑定微信")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center","min-width":"150px","class-name":"small-padding"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.handleUpdate(e.row)}}},[t._v("\n            编辑\n          ")])],1),t._v(" "),i("el-tooltip",{attrs:{content:"删除",placement:"top"}},[i("el-button",{attrs:{type:"warning",size:"mini",plain:""},on:{click:function(i){return t.handleDelete(e.row)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),i("div",{staticClass:"pagination-container"},[i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,30,50],"page-size":t.listQuery.psize,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),i("el-dialog",{attrs:{title:t.postStatusText[t.StatusText],visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"dialog-main"},[i("el-form",{ref:"form",attrs:{model:t.postFrom,"label-width":"80px"}},[i("div",{staticClass:"main-tag"},[i("el-row",{attrs:{gutter:20}},[i("el-col",[i("el-form-item",{attrs:{label:"姓名:"}},[i("el-input",{attrs:{size:"mini"},model:{value:t.postFrom.realName,callback:function(e){t.$set(t.postFrom,"realName",e)},expression:"postFrom.realName"}})],1)],1),t._v(" "),i("el-col",[i("el-form-item",{attrs:{label:"手机号:"}},[i("el-input",{attrs:{size:"mini"},model:{value:t.postFrom.phone,callback:function(e){t.$set(t.postFrom,"phone",e)},expression:"postFrom.phone"}})],1)],1),t._v(" "),i("el-col",[i("el-form-item",{attrs:{label:"openid:"}},[i("el-input",{attrs:{size:"mini"},model:{value:t.postFrom.openid,callback:function(e){t.$set(t.postFrom,"openid",e)},expression:"postFrom.openid"}})],1)],1)],1)],1)])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){"create"===t.StatusText?t.createData():t.updateData()}}},[t._v("保存")]),t._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")])],1)])],1)},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-input"},[i("div",{staticClass:"form-list"},[i("span",[t._v(t._s(t.title)+":")]),t._v(" "),t._t("default")],2)])},l=[],o={name:"index",props:{title:String}},r=o,c=(i("c3ac"),i("2877")),u=Object(c["a"])(r,a,l,!1,null,"1de302d3",null),d=u.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("iframe",{attrs:{scrolling:"no",width:"300",height:"400",frameBorder:"0",allowTransparency:"true",src:t.setSrc}})])},f=[],p={data:function(){return{src:"https://open.weixin.qq.com/connect/qrconnect?appid=wxe1f5def243e0390b&scope=snsapi_login&redirect_uri=https://abstest.tenpay.com/abs/author/callBack.do&state=0001&login_type=jssdk&self_redirect=default&style=black&href=./wx.css"}},computed:{setSrc:function(){var t="https://open.weixin.qq.com/connect/qrconnect?appid="+this.appid+"&scope="+this.scope+"&redirect_uri="+this.redirect_uri+"&state="+this.state+"&login_type=jssdk&self_redirect=default&style="+this.theme+"&href="+this.href;return t}},props:{appid:String,scope:String,redirect_uri:String,state:{type:String,default:""},theme:{type:String,default:"black"},href:{type:String,default:""}}},m=p,b=Object(c["a"])(m,h,f,!1,null,null,null),g=b.exports,v=i("17d0"),y=i("6724"),_=(i("ed08"),{name:"audit",data:function(){return{wx:{appid:"wx430216ed10988964",scope:"snsapi_userinfo",redirect_uri:"http://aystest.10huisp.com/api/shop//user/callback",state:"state",theme:"black",href:"http://aystest.10huisp.com"},form:{},input:"",tableKey:0,rejectedFrom:{shop_id:void 0,desc:void 0},postStatusText:{create:"业务员新增",edit:"业务员修改"},StatusText:"create",postFrom:{},listLoading:!0,total:0,checkList:[],dialogVisible:!1,innerVisible:!1,listQuery:{page:1,limit:10,status:"1",title:""},classlist:[],list:[]}},components:{InputForm:d,waves:y["a"],wxlogin:g},created:function(){this.fetchList()},methods:{fetchList:function(){var t=this;this.listLoading=!0,Object(v["getList"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total,t.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.fetchList()},handleFilterClear:function(){this.listQuery={page:1,psize:10,status:"1",title:""},this.fetchList()},handleClose:function(){this.dialogVisible=!this.dialogVisible},handleSizeChange:function(t){this.listQuery.psize=t,this.fetchList()},handleCurrentChange:function(t){this.listQuery.page=t,this.fetchList()},handleCreate:function(){this.postFrom={title:"",class_id:"",quality_time:"",one:"",tow:""},this.dialogVisible=!this.dialogVisible,this.StatusText="create"},createData:function(){var t=this;Object(v["c"])(this.postFrom).then((function(e){t.dialogVisible=!t.dialogVisible,t.fetchList()}))},handleUpdate:function(t){console.log(t),this.StatusText="edit",this.dialogVisible=!this.dialogVisible,this.postFrom=t},updateData:function(){var t=this;Object(v["c"])(this.postFrom).then((function(e){t.dialogVisible=!t.dialogVisible}))},handleDelete:function(t){var e=this,i=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=i.list.indexOf(t);Object(v["e"])(t.id).then((function(t){1===t.status?(i.list.splice(e,1),i.total=i.total-1,i.$notify.success(t.msg)):i.$notify.error(t.msg)})).catch((function(t){}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}}),w=_,x=(i("d8b5"),Object(c["a"])(w,n,s,!1,null,"3c152c96",null));e["default"]=x.exports},"69c6":function(t,e,i){"use strict";var n=i("0644"),s=i.n(n);s.a},"812a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",[i("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"管理员",name:"first"}},[i("adminInit")],1),t._v(" "),i("el-tab-pane",{attrs:{label:"业务员",name:"second"}},[i("salesman")],1)],1)],1)])},s=[],a=(i("ac6a"),i("50fc")),l=i("6724"),o=i("ed08"),r=i("97cb"),c=i("63fd"),u=i("5f12"),d={name:"Admin",components:{adminInit:c["default"],salesman:u["default"]},directives:{waves:l["a"]},filters:{statusFilter:function(t){var e={0:"禁用",1:"正常"};return e[t]}},data:function(){return{type_tab:!1,activeName:"first"}},watch:{dateTime:function(t){this.listQuery.startTime=t[0],this.listQuery.endTime=t[1]}},created:function(){this.fetchList()},methods:{fetchList:function(){var t=this;this.listLoading=!0,Object(a["e"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total,t.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.fetchList()},handleFilterClear:function(){this.listQuery={page:1,psize:10,isEnabled:"-1",userName:"",phone:"",realName:"",startTime:"",endTime:""},this.dateTime="",this.fetchList()},handleSizeChange:function(t){this.listQuery.psize=t,this.fetchList()},handleCurrentChange:function(t){this.listQuery.page=t,this.fetchList()},handleModifyStatus:function(t,e,i){this.list[t]["isEnabled"]=1-i,Object(a["a"])(e,"isEnabled",1-i).then((function(t){}))},handleSelectionChange:function(t){t.length>0?this.buttonDisabled=!1:this.buttonDisabled=!0,this.selectedRows=t},handleImg:function(t){Object(r["a"])(t,"图片预览","500","400")},handleCreate:function(){this.$refs.fromAdmin.handleCreate()},handleUpdate:function(t,e){this.currentIndex=t,this.$refs.fromAdmin.handleUpdate(e)},updateRow:function(t){this.currentIndex>=0&&t.id>0?this.list.splice(this.currentIndex,1,t):(this.list.length>=10&&this.list.pop(),this.list.unshift(t),this.total=this.total+1),this.currentIndex=-1},handleDelete:function(t,e){var i=this,n=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.$set(n.list[t],"delete",!0),Object(a["c"])(e).then((function(e){1===e.status?(n.list.splice(t,1),n.total=n.total-1,n.$notify.success(e.msg)):n.$notify.error(e.msg),n.$set(n.list[t],"delete",!1)})).catch((function(e){n.$set(n.list[t],"delete",!1)}))})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},handleDeleteAll:function(){var t=this,e=this;this.selectedRows.length>0?this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleting=!0;var t=Object(o["c"])(e.selectedRows,"id"),i=t.join(",");Object(a["d"])({ids:i}).then((function(i){if(1===i.status){var n=[];e.list.forEach((function(e,i,s){t.indexOf(e.id)>-1&&n.push(i)}));for(var s=n.length-1;s>=0;s--)e.list.splice(n[s],1);e.total=e.total-n.length,e.$message.success(i.msg)}else e.$message.error(i.msg);e.deleting=!1})).catch((function(t){e.deleting=!1}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})})):e.$message.error("请选择要删除的数据")},handleCommand:function(t){var e=this;if(this.selectedRows.length>0){var i=Object(o["c"])(this.selectedRows,"id"),n=i.join(",");Object(a["b"])({val:n,field:"isEnabled",value:t}).then((function(n){1===n.status?(e.list.forEach((function(n,s,a){i.indexOf(n.id)>-1&&(e.list[s]["isEnabled"]=t)})),e.$message.success(n.msg)):e.$message.error(n.msg)})).catch((function(t){}))}else e.$message.error("请选择要操作的数据")}}},h=d,f=(i("69c6"),i("2877")),p=Object(f["a"])(h,n,s,!1,null,null,null);e["default"]=p.exports},ba77:function(t,e,i){},c3ac:function(t,e,i){"use strict";var n=i("ba77"),s=i.n(n);s.a},d8b5:function(t,e,i){"use strict";var n=i("11b2"),s=i.n(n);s.a}}]);