(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fb7854a"],{"06e0":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[e._v("\n  快递平台审核中 1-3工作日\n\n  "),i("el-dialog",{attrs:{title:"选择城市",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.cityloading,expression:"cityloading"}],ref:"tree",attrs:{data:e.city,"show-checkbox":"","node-key":"value","default-checked-keys":e.itemlist,props:e.defaultProps}})],1),e._v(" "),i("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[i("el-button",{attrs:{size:"small",plain:""},on:{click:function(t){return e.handleShop()}}},[e._v("新建运费模块")])],1),e._v(" "),i("div",{staticClass:"table-container"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{label:"可配送区域\t",align:"left",fixed:"","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",[i("div",{staticClass:"link-type",staticStyle:{"margin-left":"10px"},on:{click:function(i){return e.handelCity(t.row)}}},[e._v("查看配送区域\n            ")])])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"模板名称\t","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"运费(元)\t","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.city?i("div",[e._v(e._s(t.row.city.price))]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"120px","class-name":"small-padding"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return e.handleUpdate(t.row.id)}}},[e._v("编辑\n          ")]),e._v(" "),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return e.handelDel(t.row)}}},[e._v("删除\n          ")])]}}])})],1)],1),e._v(" "),i("div",{staticClass:"pagination-container"},[i("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","current-page":e.listQuery.page,"page-size":e.listQuery.limit,"page-sizes":[5,10,15],total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},a=[],r=(i("28a5"),i("c591")),s=i("21d2"),l=i("6724"),o={page:1,limit:10},c={name:"orderList",components:{},directives:{waves:l["a"]},data:function(){return{cityloading:!1,itemlist:[],city:[],listQuery:Object.assign({},o),listLoading:!0,list:null,total:null,operateType:null,dialogVisible:!1,multipleSelection:[],closeOrder:{dialogVisible:!1,content:null,orderIds:[]},defaultProps:{children:"children",label:"label"},logisticsDialogVisible:!1}},created:function(){this.getList()},filters:{nature:function(e){return 1===e?"正式用户":"游客"},statusFilter:function(e){return 1===e?"是":"否"}},methods:{handelCity:function(e){var t=this;if(this.dialogVisible=!0,this.cityloading=!0,Object(r["a"])().then((function(e){t.city=e.data,t.cityloading=!1})),e.city)if(e.city.city.constructor===Array)this.itemlist=e.city.city;else{for(var i=e.city.city.split(","),n=0;n<i.length;n++)i[n]=parseInt(i[n]);this.itemlist=i}else this.itemlist=[]},handelDel:function(e){var t=this;Object(s["e"])(e.id).then((function(i){var n=t.list.indexOf(e);t.list.splice(n,1)}))},handleClose:function(){this.dialogVisible=!1,this.getList(),this.itemdata={}},handleUpdate:function(e){this.$router.push({path:"/manage/logistics/editor?id="+e})},handleShop:function(){this.$router.push({path:"/manage/logistics/editor"})},handleSalesman:function(){this.operateType=2,this.handleBatchOperate()},handleResetSearch:function(){this.listQuery=Object.assign({},o)},handleSearchList:function(){this.listQuery.page=1,this.getList()},handleSelectionChange:function(e){this.multipleSelection=e},handleCloseOrder:function(e,t){this.closeOrder.dialogVisible=!0,this.closeOrder.orderIds=[t.id]},handleViewLogistics:function(e,t){this.logisticsDialogVisible=!0},handleDeleteOrder:function(e,t){var i=[];i.push(t.id),this.deleteOrder(i)},handleBatchOperate:function(){var e=this;if(null==this.multipleSelection||this.multipleSelection.length<1)this.$message({message:"最少选择一项",type:"warning",duration:1e3});else{for(var t=[],i=0;i<this.multipleSelection.length;i++)t.push(this.multipleSelection[i].id);if(1===this.operateType){var n={ids:t,field:"is_shop",status:1};Object(s["PostRoleByUpdate"])(n).then((function(t){e.getList()}))}else if(2===this.operateType){n={ids:t,field:"is_product",status:1};Object(s["PostRoleByUpdate"])(n).then((function(t){e.getList()}))}else if(3===this.operateType){for(var a=[],r=0;r<this.multipleSelection.length;r++)a.push(this.multipleSelection[r].id);this.deleteOrder(a)}}},handleSizeChange:function(e){this.listQuery.page=1,this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleCloseOrderConfirm:function(){var e=this;if(null!=this.closeOrder.content&&""!==this.closeOrder.content){var t=new URLSearchParams;t.append("ids",this.closeOrder.orderIds),t.append("note",this.closeOrder.content),Object(s["closeOrder"])(t).then((function(t){e.closeOrder.orderIds=[],e.closeOrder.dialogVisible=!1,e.getList(),e.$message({message:"修改成功",type:"success",duration:1e3})}))}else this.$message({message:"操作备注不能为空",type:"warning",duration:1e3})},getList:function(){var e=this;this.listLoading=!0,Object(s["c"])(this.listQuery).then((function(t){e.listLoading=!1,e.list=t.data.data,e.total=t.data.total}))},deleteOrder:function(e){var t=this;this.$confirm("是否要进行该删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i=new URLSearchParams;i.append("id",e),Object(s["GetIdByDel"])(i).then((function(e){t.$message({message:"删除成功！",type:"success",duration:1e3}),t.getList()}))}))},covertOrder:function(e){var t=e.receiverProvince+e.receiverCity+e.receiverRegion+e.receiverDetailAddress,i={orderId:e.id,orderSn:e.orderSn,receiverName:e.receiverName,receiverPhone:e.receiverPhone,receiverPostCode:e.receiverPostCode,address:t,deliveryCompany:null,deliverySn:null};return i}}},d=c,u=(i("606e"),i("2877")),h=Object(u["a"])(d,n,a,!1,null,"7f0f26dc",null);t["default"]=h.exports},"21d2":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"g",(function(){return r})),i.d(t,"c",(function(){return s})),i.d(t,"f",(function(){return l})),i.d(t,"e",(function(){return o})),i.d(t,"b",(function(){return c}));var n=i("b775");function a(e){return Object(n["a"])({url:"admin/Distribution/CourierCityByAdd",method:"post",data:e})}function r(e){return Object(n["a"])({url:"admin/Distribution/PostDataByCourier",method:"post",data:e})}function s(e){return Object(n["a"])({url:"admin/Distribution/GetDataByList",method:"get",params:e})}function l(e){return Object(n["a"])({url:"admin/Distribution/GetIdByInfo",method:"get",params:{id:e}})}function o(e){return Object(n["a"])({url:"admin/Distribution/GetIdByDelete",method:"get",params:{id:e}})}function c(e){return Object(n["a"])({url:"admin/Distribution/GetCourierByAll",method:"get"})}},"606e":function(e,t,i){"use strict";var n=i("9414"),a=i.n(n);a.a},6724:function(e,t,i){"use strict";i("8d41");var n="@@wavesContext";function a(e,t){function i(i){var n=Object.assign({},t.value),a=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),r=a.ele;if(r){r.style.position="relative",r.style.overflow="hidden";var s=r.getBoundingClientRect(),l=r.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(s.width,s.height)+"px",r.appendChild(l)),a.type){case"center":l.style.top=s.height/2-l.offsetHeight/2+"px",l.style.left=s.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(i.pageY-s.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(i.pageX-s.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=a.color,l.className="waves-ripple z-active",!1}}return e[n]?e[n].removeHandle=i:e[n]={removeHandle:i},i}var r={bind:function(e,t){e.addEventListener("click",a(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[n].removeHandle,!1),e.addEventListener("click",a(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[n].removeHandle,!1),e[n]=null,delete e[n]}},s=function(e){e.directive("waves",r)};window.Vue&&(window.waves=r,Vue.use(s)),r.install=s;t["a"]=r},"8d41":function(e,t,i){},9414:function(e,t,i){},c591:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return s})),i.d(t,"a",(function(){return l}));var n=i("b775");function a(e){return Object(n["a"])({url:"admin/city/GetDataByList",method:"get",params:e})}function r(e){return Object(n["a"])({url:"admin/city/GetIdByDel",method:"get",params:{id:e}})}function s(e){return Object(n["a"])({url:"admin/city/PostDataBySave",method:"post",data:e})}function l(){return Object(n["a"])({url:"api/admin/City",method:"get"})}}}]);