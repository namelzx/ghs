(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02b4b316"],{"05f2":function(e,t,n){},"35af":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[n("div",[n("i",{staticClass:"el-icon-search"}),e._v(" "),n("span",[e._v("筛选搜索")]),e._v(" "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleSearchList()}}},[e._v("\n        查询搜索\n      ")]),e._v(" "),n("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:function(t){return e.handleResetSearch()}}},[e._v("\n        重置\n      ")])],1),e._v(" "),n("div",{staticClass:"search",staticStyle:{"margin-top":"15px"}},[n("el-form",{attrs:{inline:!0,model:e.listQuery,size:"small","label-width":"80px"}},[n("el-form-item",{attrs:{label:"输入搜索："}},[n("el-input",{staticClass:"input-width",attrs:{size:"mini",placeholder:"搜索商品"},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}})],1)],1)],1)]),e._v(" "),n("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[n("i",{staticClass:"el-icon-tickets"}),e._v(" "),n("span",[e._v("商家商品列表")])]),e._v(" "),n("div",{staticClass:"table-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),n("el-table-column",{attrs:{label:"ID",align:"center",width:"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"商品名称",align:"center","min-width":"220px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"封面图",align:"center","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("img",{staticClass:"headimgurl",attrs:{src:e.row.images_url}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"库存",align:"center","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.inventory)+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"市场价",align:"center","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.line_price)+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"销售价",align:"center","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.price)+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"销量",align:"center","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.sales)+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"状态",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{class:{"el-icon-success text-green":1==t.row.status,"el-icon-error text-red":2==t.row.status},on:{click:function(n){return e.handleModifyStatus(t.$index,t.row.id,t.row.status)}}},[e._v("\n          "+e._s(e._f("statusFilter")(t.row.status)))])]}}])})],1)],1),e._v(" "),n("div",{staticClass:"batch-operate-container"},[n("el-select",{attrs:{size:"small",placeholder:"批量操作"},model:{value:e.operateType,callback:function(t){e.operateType=t},expression:"operateType"}},e._l(e.operateOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),n("el-button",{staticClass:"search-button",staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleBatchOperate()}}},[e._v("\n      确定\n    ")])],1),e._v(" "),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","current-page":e.listQuery.page,"page-size":e.listQuery.limit,"page-sizes":[5,10,15],total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},a=[],l=n("c40e"),s=n("6724"),r={page:1,limit:10,type:2},o={name:"orderList",components:{},directives:{waves:s["a"]},data:function(){return{listQuery:Object.assign({},r),listLoading:!0,list:null,total:null,operateType:null,multipleSelection:[],closeOrder:{dialogVisible:!1,content:null,orderIds:[]},statusOptions:[{label:"待付款",value:0},{label:"待发货",value:1},{label:"已发货",value:2},{label:"已完成",value:3},{label:"已关闭",value:4}],orderTypeOptions:[{label:"正常订单",value:0},{label:"秒杀订单",value:1}],sourceTypeOptions:[{label:"PC订单",value:0},{label:"APP订单",value:1}],operateOptions:[{label:"删除订单",value:3}],logisticsDialogVisible:!1}},created:function(){this.getList()},filters:{nature:function(e){return 1===e?"正式用户":"游客"},statusFilter:function(e){return 1===e?"是":"否"}},methods:{handleShop:function(){this.operateType=1,this.handleBatchOperate()},handleSalesman:function(){this.operateType=2,this.handleBatchOperate()},handleResetSearch:function(){this.listQuery=Object.assign({},r)},handleSearchList:function(){this.listQuery.page=1,this.getList()},handleSelectionChange:function(e){this.multipleSelection=e},handleViewOrder:function(e,t){this.$router.push({path:"/oms/orderDetail",query:{id:t.id}})},handleCloseOrder:function(e,t){this.closeOrder.dialogVisible=!0,this.closeOrder.orderIds=[t.id]},handleDeliveryOrder:function(e,t){var n=this.covertOrder(t);this.$router.push({path:"/oms/deliverOrderList",query:{list:[n]}})},handleViewLogistics:function(e,t){this.logisticsDialogVisible=!0},handleDeleteOrder:function(e,t){var n=[];n.push(t.id),this.deleteOrder(n)},handleBatchOperate:function(){var e=this;if(null==this.multipleSelection||this.multipleSelection.length<1)this.$message({message:"最少选择一项",type:"warning",duration:1e3});else{for(var t=[],n=0;n<this.multipleSelection.length;n++)t.push(this.multipleSelection[n].id);if(1===this.operateType){var i={ids:t,field:"is_shop",status:1};Object(l["PostRoleByUpdate"])(i).then((function(t){e.getList()}))}else if(2===this.operateType){i={ids:t,field:"is_salesman",status:1};Object(l["PostRoleByUpdate"])(i).then((function(t){e.getList()}))}else if(3===this.operateType){for(var a=[],s=0;s<this.multipleSelection.length;s++)a.push(this.multipleSelection[s].id);this.deleteOrder(a)}}},handleSizeChange:function(e){this.listQuery.page=1,this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleCloseOrderConfirm:function(){var e=this;if(null!=this.closeOrder.content&&""!==this.closeOrder.content){var t=new URLSearchParams;t.append("ids",this.closeOrder.orderIds),t.append("note",this.closeOrder.content),Object(l["closeOrder"])(t).then((function(t){e.closeOrder.orderIds=[],e.closeOrder.dialogVisible=!1,e.getList(),e.$message({message:"修改成功",type:"success",duration:1e3})}))}else this.$message({message:"操作备注不能为空",type:"warning",duration:1e3})},getList:function(){var e=this;this.listLoading=!0,Object(l["a"])(this.listQuery).then((function(t){e.listLoading=!1,e.list=t.data.data,console.log(e.list),e.total=t.data.total}))},deleteOrder:function(e){var t=this;this.$confirm("是否要进行该删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=new URLSearchParams;n.append("id",e),Object(l["GetIdByDel"])(n).then((function(e){t.$message({message:"删除成功！",type:"success",duration:1e3}),t.getList()}))}))},covertOrder:function(e){var t=e.receiverProvince+e.receiverCity+e.receiverRegion+e.receiverDetailAddress,n={orderId:e.id,orderSn:e.orderSn,receiverName:e.receiverName,receiverPhone:e.receiverPhone,receiverPostCode:e.receiverPostCode,address:t,deliveryCompany:null,deliverySn:null};return n}}},c=o,u=(n("a416"),n("2877")),d=Object(u["a"])(c,i,a,!1,null,"32a3ce28",null);t["default"]=d.exports},6724:function(e,t,n){"use strict";n("8d41");var i="@@wavesContext";function a(e,t){function n(n){var i=Object.assign({},t.value),a=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),l=a.ele;if(l){l.style.position="relative",l.style.overflow="hidden";var s=l.getBoundingClientRect(),r=l.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":(r=document.createElement("span"),r.className="waves-ripple",r.style.height=r.style.width=Math.max(s.width,s.height)+"px",l.appendChild(r)),a.type){case"center":r.style.top=s.height/2-r.offsetHeight/2+"px",r.style.left=s.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(n.pageY-s.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(n.pageX-s.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=a.color,r.className="waves-ripple z-active",!1}}return e[i]?e[i].removeHandle=n:e[i]={removeHandle:n},n}var l={bind:function(e,t){e.addEventListener("click",a(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[i].removeHandle,!1),e.addEventListener("click",a(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[i].removeHandle,!1),e[i]=null,delete e[i]}},s=function(e){e.directive("waves",l)};window.Vue&&(window.waves=l,Vue.use(s)),l.install=s;t["a"]=l},"8d41":function(e,t,n){},a416:function(e,t,n){"use strict";var i=n("05f2"),a=n.n(i);a.a},c40e:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"i",(function(){return u}));var i=n("b775");function a(e){return Object(i["a"])({url:"api/admin/goods/GetDataByList",method:"get",params:e})}function l(e){return Object(i["a"])({url:"api/admin/goods/GetIdByDetails",method:"get",params:{id:e}})}function s(e){return Object(i["a"])({url:"api/admin/goods/PostDataBySave",method:"post",data:e})}function r(e,t,n){var a={val:e,field:t,value:n};return Object(i["a"])({url:"/admin/goods/change",method:"post",data:a})}function o(e){return Object(i["a"])({url:"/admin/goods/changeall",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/admin/goods/delall",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/admin/goods/del",method:"get",params:{id:e}})}}}]);