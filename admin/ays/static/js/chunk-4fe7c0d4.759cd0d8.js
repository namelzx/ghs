(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fe7c0d4","chunk-90a4df24"],{1482:function(e,t,r){"use strict";var s=r("958a"),a=r.n(s);a.a},"709b":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"b",(function(){return o}));var s=r("b775");function a(e){return Object(s["a"])({url:"admin/banner/GetDataByList",method:"get",params:e})}function n(e){return Object(s["a"])({url:"admin/banner/GetIdByDel",method:"get",params:{id:e}})}function i(e){return Object(s["a"])({url:"admin/banner/getHomeAdvertise",method:"get",params:{id:e}})}function o(e){return Object(s["a"])({url:"admin/banner/PostDataBySave",method:"post",data:e})}},"88e7":function(e,t,r){"use strict";r("7f7f"),r("3b2b"),r("a481");var s={dateFormat:function(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};for(var s in/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[s]:("00"+r[s]).substr((""+r[s]).length)));return t}},a=r("9b15");t["a"]={randomString:function(e){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r="",s=0;s<e;s++){var a=Math.ceil(35*Math.random());r+=t[a]}return r},createOssClient:function(){return new Promise((function(e,t){var r=new a({region:"oss-cn-beijing",accessKeyId:"LTAI4G7m7lF5SkXU",accessKeySecret:"PbcsuZTY2CMVPjr1K2DGzMejeotVTI",bucket:"kedand"});e(r)}))},ossUploadFile:function(e){var t=e.file,r=this;return new Promise((function(a,n){var i=s.dateFormat(new Date,"yyyyMMdd"),o=s.dateFormat(new Date,"yyyyMMddhhmmss"),l=r.randomString(4),u=t.name.substr(t.name.indexOf(".")),m="video/"+i+"/"+o+"_"+l+u;r.createOssClient().then((function(r){r.multipartUpload(m,t,{progress:function(t){var r={};r.percent=Math.floor(100*t),e.onProgress(r)}}).then((function(r){if(a({name:t.name,url:r.name}),200===r.res.statusCode)return e.onSuccess(r),r;e.onError("上传失败")}),(function(t){e.onError("上传失败"),n(t)}))}))}))}}},"958a":function(e,t,r){},aba3:function(e,t,r){"use strict";r.r(t);var s,a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"form-container",attrs:{shadow:"never"}},[r("el-form",{ref:"homeAdvertiseFrom",attrs:{model:e.homeAdvertise,rules:e.rules,"label-width":"150px",size:"small"}},[r("el-form-item",{attrs:{label:"广告名称：",prop:"name"}},[r("el-input",{staticClass:"input-width",model:{value:e.homeAdvertise.name,callback:function(t){e.$set(e.homeAdvertise,"name",t)},expression:"homeAdvertise.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"广告位置："}},[r("el-select",{model:{value:e.homeAdvertise.type,callback:function(t){e.$set(e.homeAdvertise,"type",t)},expression:"homeAdvertise.type"}},e._l(e.typeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"开始时间：",prop:"startTime"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期"},model:{value:e.homeAdvertise.startTime,callback:function(t){e.$set(e.homeAdvertise,"startTime",t)},expression:"homeAdvertise.startTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"到期时间：",prop:"endTime"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期"},model:{value:e.homeAdvertise.endTime,callback:function(t){e.$set(e.homeAdvertise,"endTime",t)},expression:"homeAdvertise.endTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"上线/下线："}},[r("el-radio-group",{model:{value:e.homeAdvertise.status,callback:function(t){e.$set(e.homeAdvertise,"status",t)},expression:"homeAdvertise.status"}},[r("el-radio",{attrs:{label:0}},[e._v("下线")]),e._v(" "),r("el-radio",{attrs:{label:1}},[e._v("上线")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"广告图片："}},[r("CoverImage",{attrs:{"image-url":e.homeAdvertise.images_url},on:{showParentComp:e.HandelImages}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序："}},[r("el-input",{staticClass:"input-width",model:{value:e.homeAdvertise.sort,callback:function(t){e.$set(e.homeAdvertise,"sort",t)},expression:"homeAdvertise.sort"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"广告链接：",prop:"url"}},[r("el-input",{staticClass:"input-width",model:{value:e.homeAdvertise.url,callback:function(t){e.$set(e.homeAdvertise,"url",t)},expression:"homeAdvertise.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"广告备注："}},[r("el-input",{staticClass:"input-width",attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.homeAdvertise.note,callback:function(t){e.$set(e.homeAdvertise,"note",t)},expression:"homeAdvertise.note"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("homeAdvertiseFrom")}}},[e._v("提交")]),e._v(" "),e.isEdit?e._e():r("el-button",{on:{click:function(t){return e.resetForm("homeAdvertiseFrom")}}},[e._v("重置")])],1)],1)],1)},n=[],i=r("bd86"),o=r("5b4d"),l=r("709b"),u=[{label:"首页轮播",value:1},{label:"首页爆款轮播",value:2}],m={name:null,type:1,images_url:null,startTime:null,endTime:null,status:0,url:null,note:null,sort:0},d=(s={name:"HomeAdvertiseDetail",components:{},props:{isEdit:{type:Boolean,default:!1}}},Object(i["a"])(s,"components",{CoverImage:o["a"]}),Object(i["a"])(s,"data",(function(){return{homeAdvertise:null,rules:{name:[{required:!0,message:"请输入广告名称",trigger:"blur"},{min:2,max:140,message:"长度在 2 到 140 个字符",trigger:"blur"}],url:[{required:!0,message:"请输入广告链接",trigger:"blur"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"blur"}],endTime:[{required:!0,message:"请选择到期时间",trigger:"blur"}],images_url:[{required:!0,message:"请选择广告图片",trigger:"blur"}]},typeOptions:Object.assign({},u)}})),Object(i["a"])(s,"created",(function(){var e=this;if(this.isEdit){var t=this.$route.params&&this.$route.params.id;console.log(t),Object(l["d"])(t).then((function(t){e.homeAdvertise=t.data}))}else this.homeAdvertise=Object.assign({},m)})),Object(i["a"])(s,"methods",{HandelImages:function(e){this.homeAdvertise.images_url=e},onSubmit:function(e){var t=this;this.$refs[e].validate((function(r){if(!r)return t.$message({message:"验证失败",type:"error",duration:1e3}),!1;t.$confirm("是否提交数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.isEdit?Object(l["b"])(t.homeAdvertise).then((function(r){t.$refs[e].resetFields(),t.$message({message:"修改成功",type:"success",duration:1e3}),t.$router.back()})):Object(l["b"])(t.homeAdvertise).then((function(r){t.$refs[e].resetFields(),t.homeAdvertise=Object.assign({},m),t.$message({message:"提交成功",type:"success",duration:1e3})}))}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.homeAdvertise=Object.assign({},m)}}),s),c=d,v=(r("1482"),r("2877")),h=Object(v["a"])(c,a,n,!1,null,"87f3caca",null);t["default"]=h.exports},e541:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("home-advertise-detail",{attrs:{isEdit:!0}})},a=[],n=r("aba3"),i={name:"updateHomeAdvertise",components:{HomeAdvertiseDetail:n["default"]}},o=i,l=r("2877"),u=Object(l["a"])(o,s,a,!1,null,null,null);t["default"]=u.exports}}]);